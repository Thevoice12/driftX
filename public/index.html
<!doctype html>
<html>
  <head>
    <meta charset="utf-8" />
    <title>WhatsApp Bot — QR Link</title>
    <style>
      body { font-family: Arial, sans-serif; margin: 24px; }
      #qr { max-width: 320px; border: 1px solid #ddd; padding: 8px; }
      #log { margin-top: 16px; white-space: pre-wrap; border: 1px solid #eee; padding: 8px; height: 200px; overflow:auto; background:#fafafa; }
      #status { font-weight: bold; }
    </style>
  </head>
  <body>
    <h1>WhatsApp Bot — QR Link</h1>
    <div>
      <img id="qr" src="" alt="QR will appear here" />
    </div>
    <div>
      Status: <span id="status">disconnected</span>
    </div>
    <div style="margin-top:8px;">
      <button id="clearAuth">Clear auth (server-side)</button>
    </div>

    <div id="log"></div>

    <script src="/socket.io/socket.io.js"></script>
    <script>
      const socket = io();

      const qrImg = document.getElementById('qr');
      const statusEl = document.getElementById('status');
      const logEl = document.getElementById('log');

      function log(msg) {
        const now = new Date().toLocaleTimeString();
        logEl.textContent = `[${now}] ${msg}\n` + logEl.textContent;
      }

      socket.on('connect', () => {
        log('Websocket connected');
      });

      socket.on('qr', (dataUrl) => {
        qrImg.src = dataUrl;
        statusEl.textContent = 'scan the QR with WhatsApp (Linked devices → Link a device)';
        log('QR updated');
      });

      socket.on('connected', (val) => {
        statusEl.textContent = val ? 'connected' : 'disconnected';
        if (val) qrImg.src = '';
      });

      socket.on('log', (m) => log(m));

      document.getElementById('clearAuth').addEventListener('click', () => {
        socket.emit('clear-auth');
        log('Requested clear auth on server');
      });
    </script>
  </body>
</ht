```html
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>WhatsApp Bot — QR Link</title>
    <style>
      body { font-family: Arial, sans-serif; margin: 24px; }
      #qr { max-width: 320px; border: 1px solid #ddd; padding: 8px; }
      #log { margin-top: 16px; white-space: pre-wrap; border: 1px solid #eee; padding: 8px; height: 200px; overflow:auto; background:#fafafa; }
      #status { font-weight: bold; }
    </style>
  </head>
  <body>
    <h1>WhatsApp Bot — QR Link</h1>
    <div>
      <img id="qr" src="" alt="QR will appear here" />
    </div>
    <div>
      Status: <span id="status">disconnected</span>
    </div>
    <div style="margin-top:8px;">
      <button id="clearAuth">Clear auth (server-side)</button>
    </div>

    <div id="log"></div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
      const socket = io();

      const qrImg = document.getElementById('qr');
      const statusEl = document.getElementById('status');
      const logEl = document.getElementById('log');

      function log(msg) {
        const now = new Date().toLocaleTimeString();
        logEl.textContent = `[${now}] ${msg}\n` + logEl.textContent;
      }

      socket.on('connect', () => {
        log('Websocket connected');
      });

      socket.on('qr', (dataUrl) => {
        qrImg.src = dataUrl;
        statusEl.textContent = 'scan the QR with WhatsApp (Linked devices → Link a device)';
        log('QR updated');
      });

      socket.on('connected', (val) => {
        statusEl.textContent = val ? 'connected' : 'disconnected';
        if (val) qrImg.src = '';
      });

      socket.on('log', (m) => log(m));

      document.getElementById('clearAuth').addEventListener('click', () => {
        socket.emit('clear-auth');
        log('Requested clear auth on server');
      });
    </script>
  </body>
</html>